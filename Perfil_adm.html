<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="imagens/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="imagens/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="imagens/favicon/favicon-16x16.png">
    <link rel="manifest" href="imagens/favicon/site.webmanifest">
    <link rel="shortcut icon" href="imagens/logo.png" sizes="16x16">
    <title>Administração - Denúncia Segura</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/adminstyle.css">
    <link rel="stylesheet" href="css/buttonEmer.css">
    <link rel="stylesheet" href="css/perfil-Adm.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="index.html">
                    <img src="imagens/logo.png" alt="Logo">
                </a>
                <h1>Administração</h1>
            </div>
            <nav>
                <ul>
                    <li class="underline-hover-effect"><a href="index.html">Página Inicial</a></li>
                    <li class="underline-hover-effect"><a href="NossosArtigos.html">Artigos</a></li>
                    <li class="underline-hover-effect"><a href="Denuncias.html">Denúncias</a></li>
                    <li class="underline-hover-effect"><a href="Comunidade.html">Comunidade</a></li>
                    <li class="underline-hover-effect"><a href="login.html">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <h1>Painel de Administração</h1>

        <div id="adminContent">
            <h2>Denúncias Recebidas</h2>
            <table id="denunciaTable">
                <thead>
                    <tr>
                        <th>Tipo de Abuso</th>
                        <th>Data e Hora</th>
                        <th>Descrição</th>
                        <th>Contato</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- As denúncias serão carregadas aqui -->
                </tbody>
            </table>
        </div>
    
        <script>
            const isAdmin = localStorage.getItem("isAdmin");
    
            if (isAdmin !== "true") {
                alert("Você não tem permissão para acessar esta página.");
                window.location.href = "admin-login.html"; 
            } else {

                const denuncias = JSON.parse(localStorage.getItem("denuncias")) || [];
                const tableBody = document.getElementById("denunciaTable").getElementsByTagName("tbody")[0];
    
                denuncias.forEach(denuncia => {
                    const row = tableBody.insertRow();
                    row.insertCell(0).textContent = denuncia.tipoAbuso;
                    row.insertCell(1).textContent = denuncia.dataIncidente;
                    row.insertCell(2).textContent = denuncia.descricaoIncidente;
                    row.insertCell(3).textContent = denuncia.contato;
                });
            }
        </script>
    </main>

    <script src="js/script.js"></script>
    <script src="js/funcEmerButton.js"></script>
</body>
</html>
